services:
  maven:
    image: maven:3.8.6-jdk-8
    user: "$DEFAULT_DOCKER_USER"
    working_dir: /usr/src/maven
    volumes:
      - ./backend:/usr/src/maven
      - ~/.m2:/var/maven/.m2
    environment:
      MAVEN_CONFIG: /var/maven/.m2
  node:
    image: opendigitaleducation/node:22-alpine-pnpm
    working_dir: /home/node/app
    environment:
      - NPM_TOKEN
      - CHROMATIC_TOKEN
    volumes:
      - ./:/home/node/app
      - ~/.pnpm:/.pnpm
  plantuml:
    image: plantuml/plantuml
    working_dir: /workspace
    volumes:
      - ./:/workspace
